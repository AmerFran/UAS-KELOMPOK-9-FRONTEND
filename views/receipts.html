<body ng-controller="ReceiptController">

    <h1>Receipt for {{user.username}}</h1>
    
    <!-- Check if transactions are available -->
    <div ng-if="transactions.length === 0">
        <p>No pending transactions found.</p>
    </div>

    <div ng-if="transactions.length > 0">
        <div ng-repeat="transaction in transactions">
            <h2>Transaction ID: {{transaction.id}}</h2>
            <p>Checkout Date: {{transaction.checkout_date | date:'MMMM d, yyyy h:mm a'}}</p>
            <p>Total Price: {{transaction.total_price | currency}}</p>

            <h3>Items:</h3>
            <ul>
                <li ng-repeat="item in transaction.items">
                    Food Name: {{item.food_name}}, Quantity: {{item.quantity}}
                </li>
            </ul>

            
            <button ng-click="updatePickupDate(transaction.id)">Pickup</button>
            <!-- address randomly generated from: https://www.fakepersongenerator.com/Random/generate_address -->
            <h3>Don't forget to pick up your food at 182 Whitetail Lane Dallas, Texas 75201 in around {{transaction.predictedTime | date:'h:mm a'}} and enjoy!</h3>
        </div>
    </div>

</body>
