<body ng-controller="HomeDietController">
    <header class="header">
        <a href="#" class="logo">
            <img src="../assets/image/logo.jpg" alt="Healthy Living Logo" class="logo-img">
            Healthy Living
        </a>
        <div id="menu" ng-click="toggleMenu()">&#x1F354;</div>
        <div ng-include="'navbar.html'"></div>
    </header>

    <section class="home" id="home">
        <div class="content">
            <h3>Discover Delicious and Nutritious Recipes for a Healthier You!</h3>
            <a href="#diet" class="btn">read more</a>
        </div>
    </section>

    <section class="search-bar">
        <div class="container">
            <input type="text" class="search-bar-input" ng-model="searchString" placeholder="Search for meals..." ng-keydown="checkEnter($event)">
            <button class="search-btn" ng-click="searchEvent()">Search</button>
        </div>
    </section>
    
    <section class="diet" id="diet">
        <h1 class="heading">diet plan</h1>
        <div class="container-diet">
            <ul class="controls">
                <li ng-repeat="category in categories" ng-click="filterCategory(category.name)">
                    <img ng-src="{{category.image}}" alt="">
                    <h3 class="category-name">{{category.name}}</h3>
                </li>
            </ul>
            <div class="filter">
                <h1 class="heading" id="result">{{filteredCategory}}</h1>
            </div>
            
            <div class="image-container" id="filterResult">
                <div class="box" ng-repeat="meal in filteredMeals">
                    <div class="image">
                        <img ng-src="{{meal.imagelink}}" alt="">
                    </div>
                    <div class="content">
                        <a href="#!ingredient?mealId={{meal.id}}&description={{meal.description}}" target="_blank" class="link">{{meal.name}}</a>
                        <p>{{meal.description}}</p>
                        <div class="icon">
                            <a href="#"><i class="fas fa-clock"></i>{{meal.creation_date | date:'MMMM d, yyyy'}}</a>
                            <a href="#"><i class="fas fa-clock"></i>by {{meal.username}}</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Pagination Controls -->
            <div class="pagination" ng-if="filteredMeals.length > 0">
                <button class="diet-btnL" ng-click="previousPage()" ng-disabled="page === 1">Previous</button>
                <span class="diet-pages">Page {{page}} of {{totalPages}}</span>
                <button class="diet-btnR" ng-click="nextPage()" ng-disabled="page === totalPages">Next</button>
            </div>
        </div>
    </section>

    <div class="social-icons">
        <a ng-href="{{social.url}}" ng-repeat="social in socialLinks"> 
            <i class="bx" ng-class="social.icon"></i>
        </a>
    </div>

    <ul class="list"></ul>
    <p class="copyright">{{copyright}}</p>
</body>
